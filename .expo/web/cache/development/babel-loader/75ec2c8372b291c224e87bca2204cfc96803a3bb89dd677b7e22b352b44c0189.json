{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useFocusEffect } from '@react-navigation/native';\nimport React, { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { getOrderData } from \"../services/OrderService\";\nimport { signOut } from \"../services/LoginApiService\";\nimport { AuthContext } from \"../services/AuthContext\";\nimport { startNewOrder } from \"../services/OrderService\";\nimport { useRoute } from '@react-navigation/native';\nimport { useNavigation } from '@react-navigation/native';\nimport { getTableData } from \"../services/OrderService\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function OrderScreen(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _React$useContext = React.useContext(AuthContext),\n    signOut = _React$useContext.signOut;\n  function signOutFromApp() {\n    return _signOutFromApp.apply(this, arguments);\n  }\n  function _signOutFromApp() {\n    _signOutFromApp = _asyncToGenerator(function* () {\n      signOut();\n    });\n    return _signOutFromApp.apply(this, arguments);\n  }\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n  function _fetchData() {\n    _fetchData = _asyncToGenerator(function* () {\n      try {\n        var orderData = yield getOrderData();\n        setData(orderData);\n      } catch (error) {\n        Alert.alert(error.toString());\n      }\n    });\n    return _fetchData.apply(this, arguments);\n  }\n  useFocusEffect(React.useCallback(function () {\n    fetchData();\n    return function () {};\n  }, []));\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Button, {\n      title: \"Sign Out\",\n      onPress: signOutFromApp\n    }), _jsx(Text, {\n      style: styles.title,\n      children: \"Current Order Detail:\"\n    }), _jsx(FlatList, {\n      data: data,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsxs(View, {\n          style: styles.orderContainer,\n          children: [_jsxs(Text, {\n            style: styles.tableText,\n            children: [\"Table: \", item.tableId]\n          }), item.items.map(function (orderItem, index) {\n            return _jsx(Text, {\n              style: styles.itemText,\n              children: orderItem.itemName\n            }, index);\n          })]\n        });\n      },\n      keyExtractor: function keyExtractor(item, index) {\n        return item.id.toString();\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10\n  },\n  orderContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 10\n  },\n  tableText: {\n    fontWeight: 'bold',\n    marginRight: 10\n  },\n  itemText: {\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["useFocusEffect","React","useState","Alert","View","StyleSheet","FlatList","Text","Button","TextInput","TouchableOpacity","getOrderData","signOut","AuthContext","startNewOrder","useRoute","useNavigation","getTableData","jsx","_jsx","jsxs","_jsxs","OrderScreen","_ref","navigation","route","_useState","_useState2","_slicedToArray","data","setData","_React$useContext","useContext","signOutFromApp","_signOutFromApp","apply","arguments","_asyncToGenerator","fetchData","_fetchData","orderData","error","alert","toString","useCallback","style","styles","container","children","title","onPress","renderItem","_ref2","item","orderContainer","tableText","tableId","items","map","orderItem","index","itemText","itemName","keyExtractor","id","create","flex","backgroundColor","padding","fontSize","fontWeight","marginBottom","flexDirection","alignItems","marginRight","marginLeft"],"sources":["D:/Users/jianna.huang/Desktop/6.6/screens/OrderList.js"],"sourcesContent":["import { useFocusEffect } from '@react-navigation/native';\r\nimport React, { useState } from 'react';\r\nimport { Alert, View, StyleSheet, FlatList, Text, Button, TextInput,TouchableOpacity } from 'react-native';\r\nimport { getOrderData } from '../services/OrderService';\r\nimport { signOut } from '../services/LoginApiService';\r\nimport { AuthContext } from '../services/AuthContext';\r\nimport { startNewOrder } from '../services/OrderService';\r\nimport { useRoute } from '@react-navigation/native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { getTableData } from '../services/OrderService';\r\n\r\nexport default function OrderScreen({ navigation,route }) {\r\n    const [data, setData] = useState([])\r\n   \r\n\r\n    const { signOut } = React.useContext(AuthContext);\r\n\r\n\r\n\r\n    async function signOutFromApp() {\r\n        signOut();\r\n    }\r\n\r\n  \r\n\r\n    async function fetchData() {\r\n        try {\r\n            const orderData = await getOrderData();\r\n            setData(orderData);\r\n        } catch (error) {\r\n            Alert.alert(error.toString());\r\n        }\r\n    }\r\n\r\n    useFocusEffect(\r\n        React.useCallback(() => {\r\n            fetchData();\r\n\r\n            return () => { };\r\n        }, [])\r\n    );\r\n\r\n    \r\n    return (\r\n        <View style={styles.container}>\r\n        <Button title=\"Sign Out\" onPress={signOutFromApp} />\r\n        <Text style={styles.title}>Current Order Detail:</Text>\r\n        <FlatList\r\n          data={data}\r\n          renderItem={({ item }) => (\r\n            <View style={styles.orderContainer}>\r\n              <Text style={styles.tableText}>Table: {item.tableId}</Text>\r\n              {item.items.map((orderItem, index) => (\r\n                <Text key={index} style={styles.itemText}>\r\n                  {orderItem.itemName}\r\n                </Text>\r\n              ))}\r\n            </View>\r\n          )}\r\n          keyExtractor={(item, index) => item.id.toString()}\r\n        />\r\n      </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n      padding: 20,\r\n    },\r\n    title: {\r\n      fontSize: 24,\r\n      fontWeight: 'bold',\r\n      marginBottom: 10,\r\n    },\r\n    orderContainer: {\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      marginBottom: 10,\r\n    },\r\n    tableText: {\r\n      fontWeight: 'bold',\r\n      marginRight: 10,\r\n    },\r\n    itemText: {\r\n      marginLeft: 10,\r\n    },\r\n  });\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}