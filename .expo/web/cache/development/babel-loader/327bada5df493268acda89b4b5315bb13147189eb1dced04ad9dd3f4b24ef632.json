{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as SecureStore from 'expo-secure-store';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nvar storedToken = null;\nvar TOKEN_KEY = \"JWT\";\nexport function storeToken(_x) {\n  return _storeToken.apply(this, arguments);\n}\nfunction _storeToken() {\n  _storeToken = _asyncToGenerator(function* (token) {\n    if (Platform.OS === 'web') {\n      storedToken = token;\n    } else {\n      yield SecureStore.setItemAsync(TOKEN_KEY, token);\n    }\n  });\n  return _storeToken.apply(this, arguments);\n}\nexport function getToken() {\n  return _getToken.apply(this, arguments);\n}\nfunction _getToken() {\n  _getToken = _asyncToGenerator(function* () {\n    if (Platform.OS === 'web') {\n      return storedToken;\n    } else {\n      var result = yield SecureStore.getItemAsync(TOKEN_KEY);\n      return result;\n    }\n  });\n  return _getToken.apply(this, arguments);\n}\nexport function deleteToken() {\n  return _deleteToken.apply(this, arguments);\n}\nfunction _deleteToken() {\n  _deleteToken = _asyncToGenerator(function* () {\n    if (Platform.OS === 'web') {\n      storedToken = null;\n    } else {\n      yield SecureStore.deleteItemAsync(TOKEN_KEY);\n    }\n  });\n  return _deleteToken.apply(this, arguments);\n}","map":{"version":3,"names":["SecureStore","Platform","storedToken","TOKEN_KEY","storeToken","_x","_storeToken","apply","arguments","_asyncToGenerator","token","OS","setItemAsync","getToken","_getToken","result","getItemAsync","deleteToken","_deleteToken","deleteItemAsync"],"sources":["D:/Users/xiuli.xue/Downloads/6.8/services/TokenStorage.js"],"sourcesContent":["import * as SecureStore from 'expo-secure-store';\r\nimport { Platform } from 'react-native';\r\n\r\nlet storedToken = null;\r\nconst TOKEN_KEY = \"JWT\";\r\n\r\nexport async function storeToken(token) {\r\n    if (Platform.OS === 'web') {\r\n        storedToken = token;\r\n    } else {\r\n        await SecureStore.setItemAsync(TOKEN_KEY, token);\r\n    }\r\n}\r\n\r\nexport async function getToken() {\r\n    if (Platform.OS === 'web') {\r\n        return storedToken;\r\n    } else {\r\n        let result = await SecureStore.getItemAsync(TOKEN_KEY);\r\n        return result;\r\n    }\r\n}\r\n\r\nexport async function deleteToken() {\r\n    if (Platform.OS === 'web') {\r\n        storedToken = null;\r\n    } else {\r\n        await SecureStore.deleteItemAsync(TOKEN_KEY)\r\n    }\r\n}"],"mappings":";AAAA,OAAO,KAAKA,WAAW,MAAM,mBAAmB;AAAC,OAAAC,QAAA;AAGjD,IAAIC,WAAW,GAAG,IAAI;AACtB,IAAMC,SAAS,GAAG,KAAK;AAEvB,gBAAsBC,UAAUA,CAAAC,EAAA;EAAA,OAAAC,WAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAM/B,SAAAF,YAAA;EAAAA,WAAA,GAAAG,iBAAA,CANM,WAA0BC,KAAK,EAAE;IACpC,IAAIT,QAAQ,CAACU,EAAE,KAAK,KAAK,EAAE;MACvBT,WAAW,GAAGQ,KAAK;IACvB,CAAC,MAAM;MACH,MAAMV,WAAW,CAACY,YAAY,CAACT,SAAS,EAAEO,KAAK,CAAC;IACpD;EACJ,CAAC;EAAA,OAAAJ,WAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBK,QAAQA,CAAA;EAAA,OAAAC,SAAA,CAAAP,KAAA,OAAAC,SAAA;AAAA;AAO7B,SAAAM,UAAA;EAAAA,SAAA,GAAAL,iBAAA,CAPM,aAA0B;IAC7B,IAAIR,QAAQ,CAACU,EAAE,KAAK,KAAK,EAAE;MACvB,OAAOT,WAAW;IACtB,CAAC,MAAM;MACH,IAAIa,MAAM,SAASf,WAAW,CAACgB,YAAY,CAACb,SAAS,CAAC;MACtD,OAAOY,MAAM;IACjB;EACJ,CAAC;EAAA,OAAAD,SAAA,CAAAP,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBS,WAAWA,CAAA;EAAA,OAAAC,YAAA,CAAAX,KAAA,OAAAC,SAAA;AAAA;AAMhC,SAAAU,aAAA;EAAAA,YAAA,GAAAT,iBAAA,CANM,aAA6B;IAChC,IAAIR,QAAQ,CAACU,EAAE,KAAK,KAAK,EAAE;MACvBT,WAAW,GAAG,IAAI;IACtB,CAAC,MAAM;MACH,MAAMF,WAAW,CAACmB,eAAe,CAAChB,SAAS,CAAC;IAChD;EACJ,CAAC;EAAA,OAAAe,YAAA,CAAAX,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}